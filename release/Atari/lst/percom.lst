ca65 V2.17 - Git 59ab140
Main file   : ..\src\utils\percom.a65
Current file: ..\src\utils\percom.a65

000000r 1               PTR		=	0
000000r 1               LFTMARGIN	=	$52
000000r 1               
000000r 1               DVSTAT		=	$2ea
000000r 1               
000000r 1               DDEVIC		=	$300
000000r 1               DUNIT		=	$301
000000r 1               DCOMND		=	$302
000000r 1               DSTATS		=	$303
000000r 1               DBUFLO		=	$304
000000r 1               DBUFHI		=	$305
000000r 1               DTIMLO		=	$306
000000r 1               DBYTLO		=	$308
000000r 1               DBYTHI		=	$309
000000r 1               DAUX1		=	$30A
000000r 1               DAUX2		=	$30B
000000r 1               
000000r 1               ICCOM		=	$342
000000r 1               ICSTA		=	$344
000000r 1               ICBAL		=	$344
000000r 1               ICBAH		=	$345
000000r 1               ICBLL		=	$348
000000r 1               ICBLH		=	$349
000000r 1               ICAX1		=	$34A
000000r 1               ICAX2		=	$34B
000000r 1               
000000r 1               CIOV		=	$E456
000000r 1               SIOV		=	$E459
000000r 1               
000000r 1               CCOPEN		=	3
000000r 1               CGETB		=	7
000000r 1               CPUTB		=	11
000000r 1               CCLOSE		=	12
000000r 1               
000000r 1               CREAD		=	64
000000r 1               CWRITE		=	128
000000r 1               
000000r 1               CLS		=	$7D
000000r 1               EOL		=	$9B
000000r 1               ;
000000r 1               		.org	$2000
002000  1               ;
002000  1  A9 00        START:		lda	#0
002002  1  85 52        		sta	LFTMARGIN
002004  1               
002004  1  A9 EC        		lda	#<SALLYMSG
002006  1  85 00        		sta	PTR
002008  1  A9 26        		lda	#>SALLYMSG
00200A  1  85 01        		sta	PTR+1
00200C  1  20 1A 25     		jsr	PRTSTR
00200F  1               
00200F  1  A9 4F        		lda	#<MSGDUNIT
002011  1  85 00        		sta	PTR
002013  1  A9 28        		lda	#>MSGDUNIT
002015  1  85 01        		sta	PTR+1
002017  1  20 1A 25     		jsr	PRTSTR
00201A  1               
00201A  1  AD 01 03     		lda	DUNIT				;DUNIT
00201D  1  A2 00        		ldx	#0
00201F  1  20 79 26     		jsr	PRTWORD
002022  1               
002022  1  20 70 26     		jsr	GETKEY
002025  1  C9 44        		cmp	#'D'
002027  1  F0 2B        		beq	DODUMP
002029  1  C9 46        		cmp	#'F'
00202B  1  F0 2A        		beq	DOFORMAT
00202D  1  C9 47        		cmp	#'G'
00202F  1  F0 29        		beq	DOGOTO
002031  1  C9 4E        		cmp	#'N'
002033  1  F0 28        		beq	DONACK
002035  1  C9 50        		cmp	#'P'
002037  1  F0 36        		beq	DOPERCOM
002039  1  C9 52        		cmp	#'R'
00203B  1  F0 26        		beq	DORESET
00203D  1  C9 53        		cmp	#'S'
00203F  1  F0 1F        		beq	DOGETSTAT
002041  1  C9 54        		cmp	#'T'
002043  1  F0 21        		beq	DOTESTSEC
002045  1  C9 55        		cmp	#'U'
002047  1  F0 20        		beq	DOUPLOAD
002049  1  C9 56        		cmp	#'V'
00204B  1  F0 1F        		beq	DOVERSION
00204D  1  C9 58        		cmp	#'X'
00204F  1  F0 02        		beq	EXIT
002051  1  D0 AD        		bne	START
002053  1  60           EXIT:		rts
002054  1               
002054  1  4C 39 25     DODUMP:		jmp	DUMP
002057  1  4C 05 23     DOFORMAT:	jmp	FORMAT
00205A  1  4C 58 22     DOGOTO:		jmp	GOTO
00205D  1  4C EA 22     DONACK:		jmp	NACK
002060  1  4C 48 23     DOGETSTAT:	jmp	GETSTAT
002063  1  4C 39 24     DORESET:	jmp	RESET
002066  1  4C 80 22     DOTESTSEC:	jmp	TESTSEC
002069  1  4C C8 23     DOUPLOAD:	jmp	UPLOAD
00206C  1  4C 93 23     DOVERSION:	jmp	VERSION
00206F  1               
00206F  1  A9 F7        DOPERCOM:	lda	#<PERTXT0
002071  1  85 00        		sta	PTR
002073  1  A9 27        		lda	#>PERTXT0
002075  1  85 01        		sta	PTR+1
002077  1  20 1A 25     		jsr	PRTSTR
00207A  1               
00207A  1  20 70 26     		jsr	GETKEY
00207D  1  20 51 26     		jsr	PRINT
002080  1               
002080  1  C9 31        		cmp	#'1'
002082  1  B0 03        		bcs	DOPERCOM3
002084  1  4C 00 20     		jmp	START
002087  1  C9 39        DOPERCOM3:	cmp	#'8'+1
002089  1  90 03        		bcc	DOPERCOM2
00208B  1  4C 00 20     		jmp	START
00208E  1  E9 2F        DOPERCOM2:	sbc	#'1'-2
002090  1  8D 01 03     		sta	DUNIT
002093  1               
002093  1  20 A0 21     		jsr	READPER				;read percom block
002096  1  98           		tya
002097  1  30 D6        		bmi	DOPERCOM			;iterate if error
002099  1               
002099  1  20 33 21     DOPERCOM1:	jsr	SHOWPER				;display percom block
00209C  1               
00209C  1  20 70 26     		jsr	GETKEY
00209F  1  C9 54        		cmp	#'T'
0020A1  1  F0 20        		beq	TRACKS
0020A3  1  C9 53        		cmp	#'S'
0020A5  1  F0 30        		beq	SECS
0020A7  1  C9 48        		cmp	#'H'
0020A9  1  F0 46        		beq	HEADS
0020AB  1  C9 44        		cmp	#'D'
0020AD  1  F0 56        		beq	DENSITY
0020AF  1  C9 42        		cmp	#'B'
0020B1  1  F0 66        		beq	BYTES
0020B3  1  C9 57        		cmp	#'W'
0020B5  1  F0 06        		beq	WRITEPERC
0020B7  1  C9 58        		cmp	#'X'
0020B9  1  F0 B4        		beq	DOPERCOM
0020BB  1  D0 DC        		bne	DOPERCOM1
0020BD  1               
0020BD  1               ;
0020BD  1               ;
0020BD  1               ;
0020BD  1  20 97 21     WRITEPERC:	jsr	WRITEPER
0020C0  1  4C 99 20     		jmp	DOPERCOM1
0020C3  1               
0020C3  1  A9 5D        TRACKS:		lda	#<MSGTRK
0020C5  1  85 00        		sta	PTR
0020C7  1  A9 28        		lda	#>MSGTRK
0020C9  1  85 01        		sta	PTR+1
0020CB  1  20 1A 25     		jsr	PRTSTR
0020CE  1  20 D4 25     		jsr	getbyte
0020D1  1  8D DB 26     		sta	PERTRK
0020D4  1  4C 99 20     		jmp	DOPERCOM1
0020D7  1               
0020D7  1  A9 79        SECS:		lda	#<MSGSEC
0020D9  1  85 00        		sta	PTR
0020DB  1  A9 28        		lda	#>MSGSEC
0020DD  1  85 01        		sta	PTR+1
0020DF  1  20 1A 25     		jsr	PRTSTR
0020E2  1  20 D4 25     		jsr	getbyte
0020E5  1  8D DE 26     		sta	PERSEC+1
0020E8  1  AD E8 26     		lda	WORD+1
0020EB  1  8D DD 26     		sta	PERSEC
0020EE  1  4C 99 20     		jmp	DOPERCOM1
0020F1  1               
0020F1  1  A9 87        HEADS:		lda	#<MSGHEA
0020F3  1  85 00        		sta	PTR
0020F5  1  A9 28        		lda	#>MSGHEA
0020F7  1  85 01        		sta	PTR+1
0020F9  1  20 1A 25     		jsr	PRTSTR
0020FC  1  20 D4 25     		jsr	getbyte
0020FF  1  8D DF 26     		sta	PERHEA
002102  1  4C 99 20     		jmp	DOPERCOM1
002105  1  A9 95        DENSITY:	lda	#<MSGDEN
002107  1  85 00        		sta	PTR
002109  1  A9 28        		lda	#>MSGDEN
00210B  1  85 01        		sta	PTR+1
00210D  1  20 1A 25     		jsr	PRTSTR
002110  1  20 D4 25     		jsr	getbyte
002113  1  8D E0 26     		sta	PERDEN
002116  1  4C 99 20     		jmp	DOPERCOM1
002119  1  A9 A3        BYTES:		lda	#<MSGBYT
00211B  1  85 00        		sta	PTR
00211D  1  A9 28        		lda	#>MSGBYT
00211F  1  85 01        		sta	PTR+1
002121  1  20 1A 25     		jsr	PRTSTR
002124  1  20 D4 25     		jsr	getbyte
002127  1  8D E2 26     		sta	PERBYT+1
00212A  1  AD E8 26     		lda	WORD+1
00212D  1  8D E1 26     		sta	PERBYT
002130  1  4C 99 20     		jmp	DOPERCOM1
002133  1               ;
002133  1               ;
002133  1               ;
002133  1  A9 1B        SHOWPER:	lda	#<PERTXT1
002135  1  85 00        		sta	PTR
002137  1  A9 28        		lda	#>PERTXT1
002139  1  85 01        		sta	PTR+1
00213B  1  20 1A 25     		jsr	PRTSTR
00213E  1               
00213E  1  AD 01 03     		lda	DUNIT				;DUNIT
002141  1  A2 00        		ldx	#0
002143  1  20 79 26     		jsr	PRTWORD
002146  1               
002146  1  20 1A 25     		jsr	PRTSTR				;TRKS
002149  1  AD DB 26     		lda	PERCOM
00214C  1  20 79 26     		jsr	PRTWORD
00214F  1               
00214F  1  20 1A 25     		jsr	PRTSTR				;STEP
002152  1  AD DC 26     		lda	PERCOM+1
002155  1  20 79 26     		jsr	PRTWORD
002158  1               
002158  1  20 1A 25     		jsr	PRTSTR				;SEC/TRK
00215B  1  AD DE 26     		lda	PERCOM+3
00215E  1  AE DD 26     		ldx	PERCOM+2
002161  1  20 79 26     		jsr	PRTWORD
002164  1               
002164  1  20 1A 25     		jsr	PRTSTR				;SIDES
002167  1  AD DF 26     		lda	PERCOM+4
00216A  1               ;		clc
00216A  1               ;		adc	#1
00216A  1  20 79 26     		jsr	PRTWORD
00216D  1               
00216D  1  20 1A 25     		jsr	PRTSTR				;DESITY
002170  1  AD E0 26     		lda	PERCOM+5
002173  1  20 79 26     		jsr	PRTWORD
002176  1               
002176  1  20 1A 25     		jsr	PRTSTR				;BYT/SEC
002179  1  AD E2 26     		lda	PERCOM+7
00217C  1  AE E1 26     		ldx	PERCOM+6
00217F  1  20 79 26     		jsr	PRTWORD
002182  1               
002182  1  20 1A 25     		jsr	PRTSTR				;SELECTED
002185  1  AD E3 26     		lda	PERCOM+8
002188  1  20 79 26     		jsr	PRTWORD
00218B  1               
00218B  1  20 1A 25     		jsr	PRTSTR				;SERRATE
00218E  1  AD E4 26     		lda	PERCOM+9
002191  1  20 79 26     		jsr	PRTWORD
002194  1               
002194  1  4C 1A 25     		jmp	PRTSTR
002197  1               
002197  1               
002197  1  A9 80        WRITEPER:	lda	#$80
002199  1  8D 03 03     		sta	DSTATS
00219C  1  A9 4F        		lda	#'O'
00219E  1  D0 07        		bne	READPER1
0021A0  1  A9 40        READPER:	lda	#$40
0021A2  1  8D 03 03     		sta	DSTATS
0021A5  1  A9 4E        		lda	#'N'
0021A7  1  8D 02 03     READPER1:	sta	DCOMND
0021AA  1  A9 DB        		lda	#<PERCOM
0021AC  1  8D 04 03     		sta	DBUFLO
0021AF  1  A9 26        		lda	#>PERCOM
0021B1  1  8D 05 03     		sta	DBUFHI
0021B4  1  A9 31        		lda	#'1'
0021B6  1  8D 00 03     		sta	DDEVIC
0021B9  1  A9 0C        		lda	#<12
0021BB  1  8D 08 03     		sta	DBYTLO
0021BE  1  A9 00        		lda	#>12
0021C0  1  8D 09 03     		sta	DBYTHI
0021C3  1  4C 84 23     		jmp	CALLSIO
0021C6  1               
0021C6  1  A9 00        SETADR:		lda	#0
0021C8  1  8D 03 03     		sta	DSTATS
0021CB  1  A9 53        		lda	#'S'
0021CD  1  8D 02 03     		sta	DCOMND
0021D0  1  A9 5A        		lda	#'Z'
0021D2  1  8D 00 03     		sta	DDEVIC
0021D5  1  A9 01        		lda	#1
0021D7  1  8D 01 03     		sta	DUNIT
0021DA  1  A9 00        		lda	#0
0021DC  1  8D 08 03     		sta	DBYTLO
0021DF  1  8D 09 03     		sta	DBYTHI
0021E2  1  AD 12 29     		lda	SALLYADR
0021E5  1  8D 0A 03     		sta	DAUX1
0021E8  1  AD 13 29     		lda	SALLYADR+1
0021EB  1  8D 0B 03     		sta	DAUX2
0021EE  1  4C 59 E4     		jmp	SIOV
0021F1  1               
0021F1  1  20 C6 21     PUTRAM:		jsr	SETADR
0021F4  1  A9 57        		lda	#'W'
0021F6  1  8D 02 03     		sta	DCOMND
0021F9  1  A9 80        		lda	#CWRITE
0021FB  1  8D 03 03     		sta	DSTATS
0021FE  1  D0 0D        		bne	GETRAM1
002200  1               
002200  1  20 C6 21     GETRAM:		jsr	SETADR
002203  1  A9 52        		lda	#'R'
002205  1  8D 02 03     		sta	DCOMND
002208  1  A9 40        		lda	#CREAD
00220A  1  8D 03 03     		sta	DSTATS
00220D  1  A9 19        GETRAM1:	lda	#<BUFFER
00220F  1  8D 04 03     		sta	DBUFLO
002212  1  A9 29        		lda	#>BUFFER
002214  1  8D 05 03     		sta	DBUFHI
002217  1  A9 00        		lda	#0
002219  1  8D 0A 03     		sta	DAUX1
00221C  1  8D 08 03     		sta	DBYTLO
00221F  1  A9 01        		lda	#1
002221  1  8D 0B 03     		sta	DAUX2
002224  1  8D 09 03     		sta	DBYTHI
002227  1  4C 59 E4     		jmp	SIOV
00222A  1               
00222A  1  20 C6 21     GOTOADR:	jsr	SETADR
00222D  1  A9 5A        		lda	#'Z'
00222F  1  8D 00 03     		sta	DDEVIC
002232  1  A9 01        		lda	#1
002234  1  8D 01 03     		sta	DUNIT
002237  1  A9 47        		lda	#'G'
002239  1  8D 02 03     		sta	DCOMND
00223C  1  A9 00        		lda	#0
00223E  1  8D 03 03     		sta	DSTATS
002241  1  AD 12 29     		lda	SALLYADR
002244  1  8D 0A 03     		sta	DAUX1
002247  1  AD 13 29     		lda	SALLYADR+1
00224A  1  8D 0B 03     		sta	DAUX2
00224D  1  A9 00        		lda	#0
00224F  1  8D 08 03     		sta	DBYTLO
002252  1  8D 09 03     		sta	DBYTHI
002255  1  4C 59 E4     		jmp	SIOV
002258  1               ;
002258  1               ;
002258  1               ;
002258  1  20 70 25     GOTO:		jsr	getadr
00225B  1  C9 58        		cmp	#'X'
00225D  1  F0 1E        		beq	GOTOEND
00225F  1  AD E7 26     		lda	WORD
002262  1  8D 12 29     		sta	SALLYADR
002265  1  AD E8 26     		lda	WORD+1
002268  1  8D 13 29     		sta	SALLYADR+1
00226B  1  20 2A 22     		jsr	GOTOADR
00226E  1  AD 13 29     		lda	SALLYADR+1
002271  1  20 2F 26     		jsr	puthex
002274  1  AD 12 29     		lda	SALLYADR
002277  1  20 2F 26     		jsr	puthex
00227A  1  20 70 26     		jsr	GETKEY
00227D  1  4C 00 20     GOTOEND:	jmp	START
002280  1               ;
002280  1               ;
002280  1               ;
002280  1  A9 31        TESTSEC:	lda	#'1'
002282  1  8D 00 03     		sta	DDEVIC
002285  1  A9 52        		lda	#'R'
002287  1  8D 02 03     		sta	DCOMND
00228A  1  A9 19        		lda	#<BUFFER
00228C  1  8D 04 03     		sta	DBUFLO
00228F  1  A9 29        		lda	#>BUFFER
002291  1  8D 05 03     		sta	DBUFHI
002294  1  A9 B8        		lda	#<3000				;start at sector 1
002296  1  8D 0A 03     		sta	DAUX1
002299  1  A9 0B        		lda	#>3000
00229B  1  8D 0B 03     		sta	DAUX2
00229E  1  A9 40        TESTSEC1:	lda	#CREAD
0022A0  1  8D 03 03     		sta	DSTATS
0022A3  1  A9 80        		lda	#128				;standard 128 bytes/sec
0022A5  1  8D 08 03     		sta	DBYTLO
0022A8  1  A9 00        		lda	#0
0022AA  1  8D 09 03     		sta	DBYTHI
0022AD  1  AD E0 26     		lda	PERDEN				;double density?
0022B0  1  29 04        		and	#4
0022B2  1  F0 12        		beq	TESTSEC4			;no, jump to readsection
0022B4  1  AD 0B 03     		lda	DAUX2				;yes, check if DAUX2 > 0
0022B7  1  D0 07        		bne	TESTSEC2			;yes, switch to 256 bytes/sec
0022B9  1  AD 0A 03     		lda	DAUX1				;no, check if sector 1-3
0022BC  1  C9 04        		cmp	#4
0022BE  1  90 06        		bcc	TESTSEC4			;yes, just read 128 bytes
0022C0  1  0E 08 03     TESTSEC2:	asl	DBYTLO
0022C3  1  2E 09 03     		rol	DBYTHI
0022C6  1  AD 0B 03     TESTSEC4:	lda	DAUX2
0022C9  1  20 2F 26     		jsr	puthex
0022CC  1  AD 0A 03     		lda	DAUX1
0022CF  1  20 2F 26     		jsr	puthex
0022D2  1  20 4F 26     		jsr	NEWLINE
0022D5  1  20 84 23     		jsr	CALLSIO
0022D8  1  30 0A        		bmi	TESTSEC3			;if error, quit read loop
0022DA  1  EE 0A 03     		inc	DAUX1				;increment DAUX1/2
0022DD  1  D0 BF        		bne	TESTSEC1
0022DF  1  EE 0B 03     		inc	DAUX2
0022E2  1  D0 BA        		bne	TESTSEC1
0022E4  1  20 70 26     TESTSEC3:	jsr	GETKEY
0022E7  1  4C 00 20     		jmp	START
0022EA  1               
0022EA  1               ;
0022EA  1               ;
0022EA  1               ;
0022EA  1  A9 31        NACK:		lda	#'1'
0022EC  1  8D 00 03     		sta	DDEVIC
0022EF  1  A9 58        		lda	#'X'
0022F1  1  8D 02 03     		sta	DCOMND
0022F4  1  A9 00        		lda	#0
0022F6  1  8D 03 03     		sta	DSTATS
0022F9  1  8D 08 03     		sta	DBYTLO
0022FC  1  8D 09 03     		sta	DBYTHI
0022FF  1  20 84 23     		jsr	CALLSIO
002302  1  4C 00 20     		jmp	START
002305  1               
002305  1  A9 31        FORMAT:		lda	#'1'
002307  1  8D 00 03     		sta	DDEVIC
00230A  1  A9 21        		lda	#'!'
00230C  1  8D 02 03     		sta	DCOMND
00230F  1  A9 40        		lda	#CREAD
002311  1  8D 03 03     		sta	DSTATS
002314  1  A9 19        		lda	#<BUFFER
002316  1  8D 04 03     		sta	DBUFLO
002319  1  A9 29        		lda	#>BUFFER
00231B  1  8D 05 03     		sta	DBUFHI
00231E  1  AD 06 03     		lda	DTIMLO
002321  1  48           		pha
002322  1  A9 FF        		lda	#$ff
002324  1  8D 06 03     		sta	DTIMLO
002327  1  A9 80        		lda	#128
002329  1  8D 08 03     		sta	DBYTLO
00232C  1  A9 00        		lda	#0
00232E  1  8D 09 03     		sta	DBYTHI
002331  1  AD E0 26     		lda	PERDEN
002334  1  29 04        		and	#4
002336  1  F0 06        		beq	FORMAT1
002338  1  0E 08 03     		asl	DBYTLO
00233B  1  2E 09 03     		rol	DBYTHI
00233E  1  20 84 23     FORMAT1:	jsr	CALLSIO
002341  1  68           		pla
002342  1  8D 06 03     		sta	DTIMLO
002345  1  4C 00 20     		jmp	START
002348  1               
002348  1  A9 31        GETSTAT:	lda	#'1'
00234A  1  8D 00 03     		sta	DDEVIC
00234D  1  A9 53        		lda	#'S'
00234F  1  8D 02 03     		sta	DCOMND
002352  1  A9 40        		lda	#CREAD
002354  1  8D 03 03     		sta	DSTATS
002357  1  A9 EA        		lda	#<DVSTAT
002359  1  8D 04 03     		sta	DBUFLO
00235C  1  A9 02        		lda	#>DVSTAT
00235E  1  8D 05 03     		sta	DBUFHI
002361  1  A9 04        		lda	#4
002363  1  8D 08 03     		sta	DBYTLO
002366  1  A9 00        		lda	#0
002368  1  8D 09 03     		sta	DBYTHI
00236B  1  20 84 23     		jsr	CALLSIO
00236E  1               
00236E  1  A2 00        		ldx	#0
002370  1  BD EA 02     GETSTAT1:	lda	DVSTAT,x
002373  1  20 2F 26     		jsr	puthex
002376  1  20 4B 26     		jsr	SPACE
002379  1  E8           		inx
00237A  1  E0 04        		cpx	#4
00237C  1  D0 F2        		bne	GETSTAT1
00237E  1  20 70 26     		jsr	GETKEY
002381  1  4C 00 20     		jmp	START
002384  1               
002384  1  20 59 E4     CALLSIO:	jsr	SIOV
002387  1  10 09        		bpl	CALLSIO1
002389  1  98           		tya
00238A  1  20 2F 26     		jsr	puthex
00238D  1  20 4B 26     		jsr	SPACE
002390  1  A0 80        		ldy	#128
002392  1  60           CALLSIO1:	rts
002393  1               
002393  1  A9 00        VERSION:	lda	#0
002395  1  8D 12 29     		sta	SALLYADR
002398  1  8D 13 29     		sta	SALLYADR+1
00239B  1  20 00 22     		jsr	GETRAM
00239E  1               
00239E  1  38           		sec
00239F  1  AD 48 29     		lda	BUFFER+$2f
0023A2  1  E9 1F        		sbc	#$1f
0023A4  1  8D 12 29     		sta	SALLYADR
0023A7  1  AD 49 29     		lda	BUFFER+$30
0023AA  1  E9 00        		sbc	#0
0023AC  1  8D 13 29     		sta	SALLYADR+1
0023AF  1  20 00 22     		jsr	GETRAM
0023B2  1               
0023B2  1  A2 00        		ldx	#0
0023B4  1  BD 19 29     VERSION1:	lda	BUFFER,x
0023B7  1  20 51 26     		jsr	PRINT
0023BA  1  E8           		inx
0023BB  1  E0 10        		cpx	#16
0023BD  1  D0 F5        		bne	VERSION1
0023BF  1  20 4F 26     		jsr	NEWLINE
0023C2  1  20 70 26     		jsr	GETKEY
0023C5  1  4C 00 20     		jmp	START
0023C8  1               
0023C8  1               ;
0023C8  1               ; uploads sally2.com to $2000 using a 256 buffer @ BUFFER
0023C8  1               ;
0023C8  1  20 49 24     UPLOAD:		jsr	openfile
0023CB  1               
0023CB  1  A9 00        		lda	#0
0023CD  1  8D 12 29     		sta	SALLYADR
0023D0  1  A9 80        		lda	#$80
0023D2  1  8D 13 29     		sta	SALLYADR+1
0023D5  1               
0023D5  1  20 71 24     upload1:	jsr	readfile			;read a page from file
0023D8  1  BD 49 03     		lda	ICBLH,x
0023DB  1  20 2F 26     		jsr	puthex
0023DE  1  BD 48 03     		lda	ICBLL,x
0023E1  1  20 2F 26     		jsr	puthex
0023E4  1  20 4B 26     		jsr	SPACE
0023E7  1               
0023E7  1  20 F1 21     		jsr	PUTRAM				;put to Sally RAM
0023EA  1  98           		tya
0023EB  1  20 2F 26     		jsr	puthex
0023EE  1  A8           		tay
0023EF  1  30 45        		bmi	uploadex
0023F1  1               
0023F1  1  20 4B 26     		jsr	SPACE
0023F4  1               
0023F4  1  AD 13 29     		lda	SALLYADR+1
0023F7  1  20 2F 26     		jsr	puthex
0023FA  1  AD 12 29     		lda	SALLYADR
0023FD  1  20 2F 26     		jsr	puthex
002400  1               
002400  1  20 4F 26     		jsr	NEWLINE
002403  1               
002403  1  EE 13 29     		inc	SALLYADR+1
002406  1  A2 10        		ldx	#$10
002408  1  BD 49 03     		lda	ICBLH,x				;check if 256 were loaded
00240B  1  D0 C8        		bne	upload1				;loop if yes
00240D  1               
00240D  1  20 99 24     		jsr	closefile
002410  1               
002410  1  A9 00        		lda	#0
002412  1  8D 12 29     		sta	SALLYADR
002415  1  A9 80        		lda	#$80
002417  1  8D 13 29     		sta	SALLYADR+1
00241A  1  20 00 22     		jsr	GETRAM
00241D  1               
00241D  1  38           		sec
00241E  1  AD 48 29     		lda	BUFFER+$2f
002421  1  E9 0F        		sbc	#$0f
002423  1  8D 12 29     		sta	SALLYADR
002426  1  AD 49 29     		lda	BUFFER+$30
002429  1  E9 00        		sbc	#0
00242B  1  69 7F        		adc	#$80-1
00242D  1  8D 13 29     		sta	SALLYADR+1
002430  1               
002430  1  20 70 26     		jsr	GETKEY
002433  1  20 2A 22     		jsr	GOTOADR
002436  1               
002436  1  4C 00 20     uploadex:	jmp	START
002439  1               
002439  1  A9 39        RESET:		lda	#$39
00243B  1  8D 12 29     		sta	SALLYADR
00243E  1  A9 00        		lda	#0
002440  1  8D 13 29     		sta	SALLYADR+1
002443  1  20 2A 22     		jsr	GOTOADR
002446  1  4C 00 20     		jmp	START
002449  1               
002449  1               ;
002449  1               ;
002449  1               ;
002449  1  A2 10        openfile:	ldx	#$10
00244B  1  A9 03        		lda	#CCOPEN
00244D  1  9D 42 03     		sta	ICCOM,x
002450  1  A9 FA        		lda	#<sallycom
002452  1  9D 44 03     		sta	ICBAL,x
002455  1  A9 28        		lda	#>sallycom
002457  1  9D 45 03     		sta	ICBAH,x
00245A  1  A9 00        		lda	#0
00245C  1  9D 48 03     		sta	ICBLL,x
00245F  1  A9 01        		lda	#1
002461  1  9D 49 03     		sta	ICBLH,x
002464  1  A9 04        		lda	#4
002466  1  9D 4A 03     		sta	ICAX1,x
002469  1  A9 00        		lda	#0
00246B  1  9D 4B 03     		sta	ICAX2,x
00246E  1  4C 56 E4     		jmp	CIOV
002471  1               
002471  1  A2 10        readfile:	ldx	#$10
002473  1  A9 07        		lda	#CGETB
002475  1  9D 42 03     		sta	ICCOM,x
002478  1  A9 19        		lda	#<BUFFER
00247A  1  9D 44 03     		sta	ICBAL,x
00247D  1  A9 29        		lda	#>BUFFER
00247F  1  9D 45 03     		sta	ICBAH,x
002482  1  A9 00        		lda	#$00
002484  1  9D 48 03     		sta	ICBLL,x
002487  1  A9 01        		lda	#$01
002489  1  9D 49 03     		sta	ICBLH,x
00248C  1  A9 04        		lda	#4
00248E  1  9D 4A 03     		sta	ICAX1,x
002491  1  A9 00        		lda	#0
002493  1  9D 4B 03     		sta	ICAX2,x
002496  1  4C 56 E4     		jmp	CIOV
002499  1               
002499  1  A2 10        closefile:	ldx	#$10
00249B  1  A9 0C        		lda	#CCLOSE
00249D  1  9D 42 03     		sta	ICCOM,x
0024A0  1  4C 56 E4     		jmp	CIOV
0024A3  1               
0024A3  1               ;
0024A3  1               ;
0024A3  1               ;
0024A3  1  A2 00        dumpbuf:	ldx	#0
0024A5  1  A0 08        		ldy	#8
0024A7  1  A9 10        		lda	#16
0024A9  1  8D E7 26     		sta	WORD
0024AC  1               
0024AC  1  AD 12 29     		lda	SALLYADR
0024AF  1  8D 16 29     		sta	DUMPADR
0024B2  1  AD 13 29     		lda	SALLYADR+1
0024B5  1  8D 17 29     		sta	DUMPADR+1
0024B8  1               
0024B8  1  20 FA 24     dumpbuf2:	jsr	dumpadr
0024BB  1  BD 19 29     dumpbuf1:	lda	BUFFER,x
0024BE  1  20 2F 26     		jsr	puthex
0024C1  1  E8           		inx
0024C2  1  20 4B 26     		jsr	SPACE
0024C5  1  88           dumpbuf3:	dey
0024C6  1  D0 F3        		bne	dumpbuf1
0024C8  1               
0024C8  1  8A           		txa
0024C9  1  38           		sec
0024CA  1  E9 08        		sbc	#8
0024CC  1  AA           		tax
0024CD  1               
0024CD  1  A0 08        		ldy	#8
0024CF  1  A9 7C        		lda	#'|'
0024D1  1  20 51 26     		jsr	PRINT
0024D4  1               
0024D4  1  BD 19 29     dumpbuf5:	lda	BUFFER,x
0024D7  1  29 7F        		and	#$7f
0024D9  1  C9 20        		cmp	#32
0024DB  1  90 04        		bcc	dumpbuf4
0024DD  1  C9 7D        		cmp	#$7d
0024DF  1  90 02        		bcc	dumpbuf6
0024E1  1  A9 2E        dumpbuf4:	lda	#'.'
0024E3  1  20 51 26     dumpbuf6:	jsr	PRINT
0024E6  1  E8           		inx
0024E7  1  88           		dey
0024E8  1  D0 EA        		bne	dumpbuf5
0024EA  1               
0024EA  1  A9 7C        		lda	#'|'
0024EC  1  20 51 26     		jsr	PRINT
0024EF  1  20 4F 26     		jsr	NEWLINE
0024F2  1               
0024F2  1  A0 08        		ldy	#8
0024F4  1  CE E7 26     		dec	WORD
0024F7  1  D0 BF        		bne	dumpbuf2
0024F9  1  60           		rts
0024FA  1               
0024FA  1  AD 17 29     dumpadr:	lda	DUMPADR+1
0024FD  1  20 2F 26     		jsr	puthex
002500  1  AD 16 29     		lda	DUMPADR
002503  1  20 2F 26     		jsr	puthex
002506  1  A9 3A        		lda	#':'
002508  1  20 51 26     		jsr	PRINT
00250B  1  18           		clc
00250C  1  AD 16 29     		lda	DUMPADR
00250F  1  69 08        		adc	#8
002511  1  8D 16 29     		sta	DUMPADR
002514  1  90 03        		bcc	dumpadr1
002516  1  EE 17 29     		inc	DUMPADR+1
002519  1  60           dumpadr1:	rts
00251A  1               
00251A  1  A0 00        PRTSTR:		ldy	#0
00251C  1  B1 00        		lda	(PTR),Y
00251E  1  F0 09        		beq	INCPTR
002520  1  20 51 26     		jsr	PRINT
002523  1  20 29 25     		jsr	INCPTR
002526  1  4C 1A 25     		jmp	PRTSTR
002529  1               
002529  1  E6 00        INCPTR:		inc	PTR
00252B  1  D0 02        		bne	INCPTR1
00252D  1  E6 01        		inc	PTR+1
00252F  1  60           INCPTR1:	rts
002530  1               
002530  1               ;
002530  1               ;
002530  1               ;
002530  1  A2 00        CLEARBUF:	ldx	#0
002532  1  9D 19 29     CLEARBUF1:	sta	BUFFER,x
002535  1  E8           		inx
002536  1  D0 FA        		bne	CLEARBUF1
002538  1  60           		rts
002539  1               ;
002539  1               ;
002539  1               ;
002539  1  20 70 25     DUMP:		jsr	getadr
00253C  1  C9 58        		cmp	#'X'
00253E  1  D0 03        		bne	DUMP1
002540  1  4C 00 20     		jmp	START
002543  1  C9 9B        DUMP1:		cmp	#EOL
002545  1  D0 11        		bne	DUMP2
002547  1  18           		clc
002548  1  AD 12 29     		lda	SALLYADR
00254B  1  69 80        		adc	#128
00254D  1  8D 12 29     		sta	SALLYADR
002550  1  90 03        		bcc	DUMP4
002552  1  EE 13 29     		inc	SALLYADR+1
002555  1  4C 64 25     DUMP4:		jmp	DUMP3
002558  1               
002558  1  AD E7 26     DUMP2:		lda	WORD
00255B  1  8D 12 29     		sta	SALLYADR
00255E  1  AD E8 26     		lda	WORD+1
002561  1  8D 13 29     		sta	SALLYADR+1
002564  1  20 4F 26     DUMP3:		jsr	NEWLINE
002567  1  20 00 22     		jsr	GETRAM
00256A  1  20 A3 24     		jsr	dumpbuf
00256D  1  4C 39 25     		jmp	DUMP
002570  1               
002570  1  A9 07        getadr:		lda	#<msgadr
002572  1  85 00        		sta	PTR
002574  1  A9 29        		lda	#>msgadr
002576  1  85 01        		sta	PTR+1
002578  1  20 1A 25     		jsr	PRTSTR
00257B  1               
00257B  1  A9 00        		lda	#0
00257D  1  8D E7 26     		sta	WORD
002580  1  8D E8 26     		sta	WORD+1
002583  1  A9 04        		lda	#4
002585  1  8D 18 29     		sta	CNT
002588  1               
002588  1  20 AB 25     getadr2:	jsr	getnibble
00258B  1  C9 10        		cmp	#16
00258D  1  B0 1B        		bcs	getadr3
00258F  1  A2 03        		ldx	#3
002591  1  0E E7 26     getadr4:	asl	WORD
002594  1  2E E8 26     		rol	WORD+1
002597  1  CA           		dex
002598  1  10 F7        		bpl	getadr4
00259A  1  6D E7 26     		adc	WORD
00259D  1  8D E7 26     		sta	WORD
0025A0  1  90 03        		bcc	getadr1
0025A2  1  EE E8 26     		inc	WORD+1
0025A5  1  CE 18 29     getadr1:	dec	CNT
0025A8  1  D0 DE        		bne	getadr2
0025AA  1  60           getadr3:	rts
0025AB  1               
0025AB  1  20 70 26     getnibble:	jsr	GETKEY
0025AE  1  C9 9B        		cmp	#EOL
0025B0  1  F0 21        		beq	getnibex
0025B2  1  C9 58        		cmp	#'X'
0025B4  1  F0 1D        		beq	getnibex
0025B6  1  C9 30        		cmp	#'0'
0025B8  1  90 F1        		bcc	getnibble
0025BA  1  C9 3A        		cmp	#'9'+1
0025BC  1  90 0F        		bcc	getnib09
0025BE  1               
0025BE  1  C9 41        		cmp	#'A'
0025C0  1  90 E9        		bcc	getnibble
0025C2  1  C9 47        		cmp	#'F'+1
0025C4  1  B0 E5        		bcs	getnibble
0025C6  1  20 51 26     		jsr	PRINT
0025C9  1  38           		sec
0025CA  1  E9 37        		sbc	#'A'-10
0025CC  1  60           		rts
0025CD  1  20 51 26     getnib09:	jsr	PRINT
0025D0  1  38           		sec
0025D1  1  E9 30        		sbc	#'0'
0025D3  1  60           getnibex:	rts
0025D4  1               
0025D4  1               ;
0025D4  1               ; reads a byte value given in decimal
0025D4  1               ;
0025D4  1  A2 03        getbyte:	ldx	#3
0025D6  1  8E E9 26     		stx	PACKDEC
0025D9  1  A9 00        		lda	#0
0025DB  1  8D E7 26     		sta	WORD
0025DE  1  8D E8 26     		sta	WORD+1
0025E1  1  20 18 26     getbyte1:	jsr	getnum
0025E4  1  30 2E        		bmi	getbyteex
0025E6  1  AD E7 26     		lda	WORD
0025E9  1  0A           		asl
0025EA  1  2E E8 26     		rol	WORD+1
0025ED  1  0A           		asl
0025EE  1  2E E8 26     		rol	WORD+1
0025F1  1  6D E7 26     		adc	WORD
0025F4  1  8D E7 26     		sta	WORD
0025F7  1  90 03        		bcc	getbyte2
0025F9  1  EE E8 26     		inc	WORD+1
0025FC  1  0A           getbyte2:	asl
0025FD  1  8D E7 26     		sta	WORD
002600  1  2E E8 26     		rol	WORD+1
002603  1  98           		tya
002604  1  6D E7 26     		adc	WORD
002607  1  8D E7 26     		sta	WORD
00260A  1  90 03        		bcc	getbyte3
00260C  1  EE E8 26     		inc	WORD+1
00260F  1  CE E9 26     getbyte3:	dec	PACKDEC
002612  1  D0 CD        		bne	getbyte1
002614  1  AD E7 26     getbyteex:	lda	WORD
002617  1  60           		rts
002618  1               
002618  1  20 70 26     getnum:		jsr	GETKEY
00261B  1  C9 9B        		cmp	#EOL
00261D  1  F0 0E        		beq	getnumex
00261F  1  C9 30        		cmp	#'0'
002621  1  90 F5        		bcc	getnum
002623  1  C9 3A        		cmp	#'9'+1
002625  1  B0 F1        		bcs	getnum
002627  1  20 51 26     		jsr	PRINT
00262A  1  38           		sec
00262B  1  E9 30        		sbc	#'0'
00262D  1  A8           getnumex:	tay
00262E  1  60           		rts
00262F  1               
00262F  1               ;
00262F  1  48           puthex:		pha
002630  1  48           		pha
002631  1  4A           		lsr
002632  1  4A           		lsr
002633  1  4A           		lsr
002634  1  4A           		lsr
002635  1  20 40 26     		jsr	putnib
002638  1  68           		pla
002639  1  29 0F        		and	#$0f
00263B  1  20 40 26     		jsr	putnib
00263E  1  68           		pla
00263F  1  60           		rts
002640  1               
002640  1  C9 0A        putnib:		cmp	#10
002642  1  90 02        		bcc	putnib1
002644  1  69 06        		adc	#6
002646  1  69 30        putnib1:	adc	#'0'
002648  1  4C 51 26     		jmp	PRINT
00264B  1               
00264B  1  A9 20        SPACE:		lda	#32
00264D  1  D0 02        		bne	PRINT
00264F  1  A9 9B        NEWLINE:	lda	#EOL
002651  1  48           PRINT:		pha
002652  1  8A           		txa
002653  1  48           		pha
002654  1  98           		tya
002655  1  48           		pha
002656  1  A2 0B        		ldx	#CPUTB
002658  1  8E 42 03     		stx	ICCOM
00265B  1  BA           		tsx
00265C  1  BD 03 01     		lda	$103,X
00265F  1  A2 00        		ldx	#0
002661  1  8E 48 03     		stx	ICBLL
002664  1  8E 49 03     		stx	ICBLH
002667  1  20 56 E4     		jsr	CIOV
00266A  1  68           		pla
00266B  1  A8           		tay
00266C  1  68           		pla
00266D  1  AA           		tax
00266E  1  68           		pla
00266F  1  60           		rts
002670  1               
002670  1  AD 25 E4     GETKEY:		lda	$E425
002673  1  48           		pha
002674  1  AD 24 E4     		lda	$E424
002677  1  48           		pha
002678  1  60           		rts
002679  1               ;
002679  1  20 AF 26     PRTWORD:	jsr	WORD2D
00267C  1  A2 00        		ldx	#0
00267E  1  A0 00        		ldy	#0
002680  1  B9 E9 26     PRTWRD1:	lda	PACKDEC,Y
002683  1  4A           		lsr
002684  1  4A           		lsr
002685  1  4A           		lsr
002686  1  4A           		lsr
002687  1  20 A1 26     		jsr	PRTNIB
00268A  1  C0 02        		cpy	#2
00268C  1  D0 01        		bne	PRTWRD2
00268E  1  E8           		inx
00268F  1  B9 E9 26     PRTWRD2:	lda	PACKDEC,Y
002692  1  29 0F        		and	#15
002694  1  20 A1 26     		jsr	PRTNIB
002697  1  C8           		iny
002698  1  C0 03        		cpy	#3
00269A  1  D0 E4        		bne	PRTWRD1
00269C  1  A2 00        		ldx	#0
00269E  1  4C 4F 26     		jmp	NEWLINE
0026A1  1               
0026A1  1  D0 05        PRTNIB:		bne	PRTNIB1
0026A3  1  E0 00        		cpx	#0
0026A5  1  D0 01        		bne	PRTNIB1
0026A7  1  60           		rts
0026A8  1               
0026A8  1  E8           PRTNIB1:	inx
0026A9  1  18           		clc
0026AA  1  69 30        		adc	#'0'
0026AC  1  4C 51 26     		jmp	PRINT
0026AF  1               
0026AF  1               
0026AF  1  8E E8 26     WORD2D:		stx	WORD+1
0026B2  1  8D E7 26     		sta	WORD
0026B5  1               
0026B5  1  A2 02        		ldx	#2
0026B7  1  A9 00        		lda	#0
0026B9  1  9D E9 26     WORD2D1:	sta	PACKDEC,X
0026BC  1  CA           		dex
0026BD  1  10 FA        		bpl	WORD2D1
0026BF  1               
0026BF  1  F8           		sed
0026C0  1  A2 10        		ldx	#16
0026C2  1               
0026C2  1  0E E7 26     WORD2D3:	asl	WORD
0026C5  1  2E E8 26     		rol	WORD+1
0026C8  1               
0026C8  1  A0 02        		ldy	#2
0026CA  1  B9 E9 26     WORD2D2:	lda	PACKDEC,Y
0026CD  1  79 E9 26     		adc	PACKDEC,Y
0026D0  1  99 E9 26     		sta	PACKDEC,Y
0026D3  1  88           		dey
0026D4  1  10 F4        		bpl	WORD2D2
0026D6  1               
0026D6  1  CA           		dex
0026D7  1  D0 E9        		bne	WORD2D3
0026D9  1               
0026D9  1  D8           		cld
0026DA  1  60           		rts
0026DB  1               ;
0026DB  1               ; VAR + CONST
0026DB  1               ;
0026DB  1               
0026DB  1               PERCOM:
0026DB  1  00           PERTRK:		.byte	0
0026DC  1  00           PERSTP:		.byte	0
0026DD  1  00 00        PERSEC:		.word	0
0026DF  1  00           PERHEA:		.byte	0
0026E0  1  00           PERDEN:		.byte	0
0026E1  1  00 00        PERBYT:		.word	0
0026E3  1  00           PERSTA:		.byte	0
0026E4  1  00           PERRAT:		.byte	0
0026E5  1  00           PERX01:		.byte	0
0026E6  1  00           PERX02:		.byte	0
0026E7  1               
0026E7  1  00 00        WORD:		.word	0
0026E9  1  00 00 00     PACKDEC:	.byte	0,0,0
0026EC  1               
0026EC  1  7D           SALLYMSG:	.byte	CLS
0026ED  1  2A 2A 2A 2A  		.byte	"******************", EOL
0026F1  1  2A 2A 2A 2A  
0026F5  1  2A 2A 2A 2A  
002700  1  2A 20 53 61  		.byte	"* Sally 2 tools  *", EOL
002704  1  6C 6C 79 20  
002708  1  32 20 74 6F  
002713  1  2A 2A 2A 2A  		.byte	"******************", EOL
002717  1  2A 2A 2A 2A  
00271B  1  2A 2A 2A 2A  
002726  1  9B           		.byte	EOL
002727  1  44 20 2D 20  		.byte	"D - Dump memory", EOL
00272B  1  44 75 6D 70  
00272F  1  20 6D 65 6D  
002737  1  47 20 2D 20  		.byte	"G - Goto address", EOL
00273B  1  47 6F 74 6F  
00273F  1  20 61 64 64  
002748  1  46 20 2D 20  		.byte	"F - Format", EOL
00274C  1  46 6F 72 6D  
002750  1  61 74 9B     
002753  1  4E 20 2D 20  		.byte	"N - Test NACK (Cmd 'X')", EOL
002757  1  54 65 73 74  
00275B  1  20 4E 41 43  
00276B  1  50 20 2D 20  		.byte	"P - Percom Block Config", EOL
00276F  1  50 65 72 63  
002773  1  6F 6D 20 42  
002783  1  52 20 2D 20  		.byte	"R - Reset Sally", EOL
002787  1  52 65 73 65  
00278B  1  74 20 53 61  
002793  1  53 20 2D 20  		.byte	"S - Get Status", EOL
002797  1  47 65 74 20  
00279B  1  53 74 61 74  
0027A2  1  54 20 2D 20  		.byte	"T - Test (read) all sectors", EOL
0027A6  1  54 65 73 74  
0027AA  1  20 28 72 65  
0027BE  1  55 20 2D 20  		.byte	"U - upload sally2.com", EOL
0027C2  1  75 70 6C 6F  
0027C6  1  61 64 20 73  
0027D4  1  56 20 2D 20  		.byte	"V - Show Sally 2 version", EOL
0027D8  1  53 68 6F 77  
0027DC  1  20 53 61 6C  
0027ED  1  58 20 2D 20  		.byte	"X - EXIT", EOL
0027F1  1  45 58 49 54  
0027F5  1  9B           
0027F6  1  00           		.byte	0
0027F7  1               
0027F7  1  9B           PERTXT0:	.byte	EOL
0027F8  1  44 69 73 70  		.byte	"Display PERCOM for"
0027FC  1  6C 61 79 20  
002800  1  50 45 52 43  
00280A  1  20 55 6E 69  		.byte	" Unit (1-8 / x)?"
00280E  1  74 20 28 31  
002812  1  2D 38 20 2F  
00281A  1  00           		.byte	0
00281B  1               
00281B  1  9B           PERTXT1:	.byte	EOL
00281C  1  2A 2A 2A 2A  		.byte	"****************"
002820  1  2A 2A 2A 2A  
002824  1  2A 2A 2A 2A  
00282C  1  9B           		.byte	EOL
00282D  1  2A 20 50 45  		.byte	"* PERCOM BLOCK *"
002831  1  52 43 4F 4D  
002835  1  20 42 4C 4F  
00283D  1  9B           		.byte	EOL
00283E  1  2A 2A 2A 2A  		.byte	"****************"
002842  1  2A 2A 2A 2A  
002846  1  2A 2A 2A 2A  
00284E  1  9B           		.byte	EOL
00284F  1  55 6E 69 74  MSGDUNIT:	.byte	"Unit       : "
002853  1  20 20 20 20  
002857  1  20 20 20 3A  
00285C  1  00           		.byte	0
00285D  1               
00285D  1  54 72 61 63  MSGTRK:		.byte	"Tracks     : "
002861  1  6B 73 20 20  
002865  1  20 20 20 3A  
00286A  1  00           		.byte	0
00286B  1  53 74 65 70  		.byte	"Step       : "
00286F  1  20 20 20 20  
002873  1  20 20 20 3A  
002878  1  00           		.byte	0
002879  1  53 65 63 2F  MSGSEC:		.byte	"Sec/Trk    : "
00287D  1  54 72 6B 20  
002881  1  20 20 20 3A  
002886  1  00           		.byte	0
002887  1  48 65 61 64  MSGHEA:		.byte	"Heads (0-1): "
00288B  1  73 20 28 30  
00288F  1  2D 31 29 3A  
002894  1  00           		.byte	0
002895  1  44 65 6E 73  MSGDEN:		.byte	"Density    : "
002899  1  69 74 79 20  
00289D  1  20 20 20 3A  
0028A2  1  00           		.byte	0
0028A3  1  42 79 74 2F  MSGBYT:		.byte	"Byt/Sec    : "
0028A7  1  53 65 63 20  
0028AB  1  20 20 20 3A  
0028B0  1  00           		.byte	0
0028B1  1  53 65 6C 65  		.byte	"Select     : "
0028B5  1  63 74 20 20  
0028B9  1  20 20 20 3A  
0028BE  1  00           		.byte	0
0028BF  1  53 65 72 52  		.byte	"SerRate    : "
0028C3  1  61 74 65 20  
0028C7  1  20 20 20 3A  
0028CC  1  00           		.byte	0
0028CD  1  D4 72 61 63  		.byte	'T'+128, "racks ", 'S'+128, "ecs ", 'H'+128, "eads ", 'D'+128, "ensity ", 'B'+128, "ytes", EOL
0028D1  1  6B 73 20 D3  
0028D5  1  65 63 73 20  
0028ED  1  D7 72 69 74  		.byte	'W'+128, "rite  ", 'E', 'x'+128, "it", EOL
0028F1  1  65 20 20 45  
0028F5  1  F8 69 74 9B  
0028F9  1  00           		.byte	0
0028FA  1               
0028FA  1  44 3A 53 41  sallycom:	.byte	"D:SALLY2.COM",EOL
0028FE  1  4C 4C 59 32  
002902  1  2E 43 4F 4D  
002907  1  61 64 64 72  msgadr:		.byte	"address:",0
00290B  1  65 73 73 3A  
00290F  1  00           
002910  1  00 00        ATADR:		.word	0
002912  1  00 00        SALLYADR:	.word	0
002914  1  00 00        SALLYLEN:	.word	0
002916  1  00 00        DUMPADR:	.word	0
002918  1  00           CNT:		.byte	0
002919  1  00           BUFFER:		.byte	0
002919  1               
